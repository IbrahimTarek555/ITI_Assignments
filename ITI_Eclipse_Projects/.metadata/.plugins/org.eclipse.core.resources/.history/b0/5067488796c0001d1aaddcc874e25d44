#include "STD_TYPES.h"
#include "SpecialCharacters.h"

#include "DIO_interface.h"
#include "PORT_interface.h"

#include "CLCD_interface.h"
#include "KEYPAD_interface.h"

#include <util/delay.h>


void main(void)
{
	/*Define Variables*/
	uint8 Local_u8ArrowCounter = 0;
	uint8 Local_u8PressedKey = KEYPAD_u8NO_PRESSED_KEY;

	uint8 Local_u8FirstHoursDigit = 0;
	uint8 Local_u8SecondHoursDigit = 0;
	uint8 Local_u8Minutes = 0;
	uint8 Local_u8Seconds = 0;

	/*Port Initialization*/
	PORT_voidInit();

	/*Initialize the lcd*/
	CLCD_voidInit();

	CLCD_u8GoToXY(2, 0);
	CLCD_voidSendData(':');

	CLCD_u8GoToXY(5, 0);
	CLCD_voidSendData(':');
	while(1)
	{
		Local_u8PressedKey = KEYPAD_u8GetPressedKey();

		switch(Local_u8ArrowCounter)
		{
		case 0:
			switch(Local_u8PressedKey)
			{
			case 0:
			case 1:
			case 2:
			case 3:
			case 4:
			case 5:
			case 6:
			case 7:
			case 8:
			case 9:
				CLCD_voidSendDecimalNumber(Local_u8PressedKey);
				Local_u8FirstHoursDigit = Local_u8PressedKey;
				break;
			}
			break;
		case 1:
			switch(Local_u8PressedKey)
			{
			case 0:
			case 1:
			case 2:
			case 3:
			case 4:
			case 5:
			case 6:
			case 7:
			case 8:
			case 9:
				CLCD_voidSendDecimalNumber(Local_u8PressedKey);
				Local_u8SecondHoursDigit = Local_u8PressedKey;
				break;
			}
			break;
		case 2:

		case 3:


		case 4:

		case 5:
		case 6:
		case 7:
		}
		if(Local_u8PressedKey == 22)
		{
			CLCD_voidSendSpecialCharacter(Local_u8EraseCharacter, 1, Local_u8ArrowCounter, 1);
			Local_u8ArrowCounter--;
		}
		else if(Local_u8PressedKey == 11)
		{
			CLCD_voidSendSpecialCharacter(Local_u8EraseCharacter, 1, Local_u8ArrowCounter, 1);
			Local_u8ArrowCounter++;
		}

		CLCD_u8GoToXY(0,0);
		CLCD_voidSendDecimalNumber(Local_u8ArrowCounter);
		CLCD_voidSendSpecialCharacter(Local_u8UpwordArrow, 0, Local_u8ArrowCounter, 1);
	}
}
